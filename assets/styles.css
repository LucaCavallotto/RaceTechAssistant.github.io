:root{
      --bg-1:#0e0f13;      /* page */
      --bg-2:#171922;      /* panels */
      --bg-3:#1f2330;      /* tiles */
      --border:#2a2f3f;    /* borders */
      --text:#e9edf1;      /* main text */
      --muted:#a6afbf;     /* muted text */
      --brand:#ff2a26;     /* accent */
      --ok:#9ce37d;
      --err:#ff8b8b;
      --radius:14px;
      --shadow:0 10px 30px rgba(0,0,0,.28);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    /* Sticky footer layout */
    body{
      margin:0; min-height:100vh; display:flex; flex-direction:column;
      font:16px/1.5 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:radial-gradient(1000px 500px at 0% -10%, #151826 0%, transparent 60%),
                 radial-gradient(900px 600px at 110% 0%, #121522 0%, transparent 60%),
                 var(--bg-1);
    }
    a{color:inherit;text-decoration:none}
    header{position:sticky; top:0; z-index:20; background:rgba(15,17,24,.75); border-bottom:1px solid var(--border); backdrop-filter:saturate(140%) blur(8px)}
    .nav{max-width:1100px;margin:0 auto;height:60px;display:flex;align-items:center;justify-content:space-between;padding:0 16px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .brand-dot{width:10px;height:10px;border-radius:999px;background:var(--brand)}
    .actions{display:flex;gap:10px;align-items:center}
    .segmented{display:inline-flex;border:1px solid var(--border);background:#101420;padding:4px;border-radius:999px}
    .segmented button{background:transparent;border:0;padding:6px 10px;border-radius:999px;cursor:pointer;color:var(--muted);font-weight:600;letter-spacing:.02em}
    .segmented button[aria-pressed="true"]{background:linear-gradient(180deg,#1d2231,#121725);color:var(--text)}
    .icon-btn{border:1px solid var(--border);background:#101420;color:var(--text);padding:6px 10px;border-radius:10px;cursor:pointer}

    main{flex:1; max-width:1100px;margin:18px auto 90px;padding:0 16px}

    .page-title{margin:.5rem 0 .25rem;font-size:clamp(22px,3vw,34px);letter-spacing:-.02em}
    .page-desc{margin:0 0 12px;color:var(--muted)}

    /* Cards & grid */
    .grid{display:grid;gap:18px;grid-template-columns:repeat(12,1fr)}
    .card{grid-column:span 12;background:var(--bg-2);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    .card h3{margin:0 0 10px;font-size:16px}
    .split{display:grid;gap:12px;grid-template-columns:repeat(12,1fr)}
    .col-12{grid-column:span 12}
    .col-6{grid-column:span 12}
    .col-4{grid-column:span 12}
    .col-3{grid-column:span 12}
    @media (min-width: 900px){.col-6{grid-column:span 6}.col-4{grid-column:span 4}.col-3{grid-column:span 3}}

    /* Stat tiles */
    .stats{display:grid;gap:10px;grid-template-columns:repeat(12,1fr);margin:6px 0 14px}
    .stat{grid-column:span 6;background:var(--bg-3);border:1px solid var(--border);border-radius:12px;padding:10px 12px;text-align:center}
    .stat strong{font-size:18px}
    .stat small{display:block;color:var(--muted);font-size:11px;text-transform:uppercase;letter-spacing:.06em}
    @media (min-width: 600px){.stat{grid-column:span 3}}

    /* Form */
    label{display:block;color:var(--muted);font-size:13px;margin:2px 0 6px}
    .row{display:grid;gap:10px;grid-template-columns:repeat(12,1fr)}
    .input{display:flex;align-items:stretch;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#111420}
    .input input{flex:1;min-width:0;border:0;outline:0;background:transparent;color:var(--text);padding:10px 12px;font-size:14px}
    .unit{display:flex;align-items:center;padding:0 10px;background:#141828;border-left:1px solid var(--border);color:var(--muted);font-size:12px}

    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    button{border:1px solid var(--border);background:#22263a;color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer}
    button.primary{background:linear-gradient(180deg,#ff4b45,#d92a26);border-color:#9e1917}
    button.secondary{background:#22263a}
    button:disabled{opacity:.6;cursor:not-allowed}

    .result{margin-top:10px;border:1px solid var(--border);background:#111420;border-radius:12px;padding:12px;white-space:pre-wrap;min-height:44px;display:none}
    .ok{color:var(--ok)} .err{color:var(--err)}

    /* Segmented tabs */
    .segmented-wrap{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:10px 0}
    .segmented-wrap .segmented button{padding:8px 14px}

    /* Tabpanels */
    [role="tabpanel"][hidden]{display:none}

    /* Tyre layout grid (FR | FL / RL | RR => FL is top-right) */
    .tyre-grid{display:grid;gap:12px;grid-template-columns:1fr 1fr;grid-template-areas:'fr fl''rl rr';align-items:start}
    .tyre-fl{grid-area:fl}
    .tyre-fr{grid-area:fr}
    .tyre-rl{grid-area:rl}
    .tyre-rr{grid-area:rr}

    .car-hint{font-size:12px;color:var(--muted);margin-top:6px}

    /* Fuel mode toggle */
    .mode-toggle{display:inline-flex;border:1px solid var(--border);background:#101420;border-radius:999px;overflow:hidden}
    .mode-toggle button{padding:8px 12px;border:0;background:transparent;color:var(--muted);cursor:pointer}
    .mode-toggle button[aria-pressed="true"]{background:#1b2030;color:var(--text)}

    /* Big highlight tile for start fuel */
    .big-callout{display:none;margin-top:12px;padding:16px;border-radius:14px;border:1px solid #9e1917;background:linear-gradient(180deg,rgba(255,75,69,.15),rgba(217,42,38,.08));box-shadow:var(--shadow);text-align:center}
    .big-callout h4{margin:0 0 6px;font-size:18px;letter-spacing:.02em}
    .big-callout .liters{font-size:28px;font-weight:800;letter-spacing:.02em}

    /* Light theme */
    [data-theme="light"]{
      --bg-1:#f6f7fb; --bg-2:#ffffff; --bg-3:#f0f2f7; --border:#d9deea; --text:#0d1020; --muted:#5a6374;
    }

    footer{border-top:1px solid var(--border);background:#0d0f15;color:var(--muted);margin-top:auto}
    footer [data-theme="light"] &{background:#fff}
    .footer-inner{max-width:1100px;margin:0 auto;padding:16px; text-align:center}